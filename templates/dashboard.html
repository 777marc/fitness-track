{% extends "base.html" %} {% block title %}Dashboard - Fitness Tracker{%
endblock %} {% block content %}
<div class="row">
  <div class="col-12">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2><i class="bi bi-speedometer2"></i> My Workouts</h2>
      <a
        href="{{ url_for('new_workout') }}"
        class="btn"
        style="background-color: #001f3f; color: white"
      >
        <i class="bi bi-plus-circle"></i> Add New Workout
      </a>
    </div>

    {% if workouts %}
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>Date</th>
            <th>Exercise</th>
            <th>Duration (min)</th>
            <th>Calories</th>
            <th>Notes</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for workout in workouts %}
          <tr>
            <td>{{ workout.date.strftime('%Y-%m-%d') }}</td>
            <td><strong>{{ workout.exercise }}</strong></td>
            <td>{{ workout.duration }}</td>
            <td>{{ workout.calories }}</td>
            <td>
              {{ workout.notes[:50] + '...' if workout.notes and
              workout.notes|length > 50 else workout.notes }}
            </td>
            <td>
              <a
                href="{{ url_for('edit_workout', id=workout.id) }}"
                class="btn btn-sm btn-warning"
              >
                <i class="bi bi-pencil"></i>
              </a>
              <form
                method="POST"
                action="{{ url_for('delete_workout', id=workout.id) }}"
                style="display: inline"
              >
                <button
                  type="submit"
                  class="btn btn-sm btn-danger"
                  onclick="return confirm('Are you sure you want to delete this workout?');"
                >
                  <i class="bi bi-trash"></i>
                </button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="alert alert-info text-center">
      <i class="bi bi-info-circle"></i> No workouts recorded yet.
      <a href="{{ url_for('new_workout') }}" class="alert-link"
        >Add your first workout</a
      >!
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
